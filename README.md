# 赛题要求文档

**项目名称：**

内核代码映射用户态

**项目链接：**

https://github.com/cdzg-zzk/OS2025-KernelCodeMapping

**导师信息：**

姓名：李弋

邮箱：liy@fudan.edu.cn

**难度：**

高

**分类：**

未归类运行时支撑、新型模块组件

**题目要求：**

随着计算机技术的发展，计算机拥有大量异构的资源，运行的应用日趋丰富，它们的复杂性也越来越高。相应地，现代操作系统也越来越复杂，提供越来越多的能力。

应用程序应该高效和方便地访问系统的资源和能力。现代操作系统提供多种机制。最典型的就是系统调用。系统调用的代价比较大，很难应对频繁访问系统资源的场景。针对高速网络数据处理的场景，Intel扩展了Linux内核，实现了引入用户态旁路技术（如DPDK），应用程序可以在用户态处理网络包。另外，用户也需要访问内核数据结构，Linux设计和实现了proc文件系统这种内核状态透传方案。

为了提高开发质量，Linux内核复用了一些用户态的代码，例如libc中的一些标准库函数。不管是应用程序还是操作系统，都离不开高效数据结构。Linux内核实现了一些高效数据结构，例如red-black tree和Maple Tree等。另外，内核和应用程序有一些能力重叠。以内存管理为例，内核提供多种内存管理机制，用户态也有不同的malloc的实现。一般来说，内核代码质量更高，实现也更高效。反之，把内核看作代码库，用户态程序是否可以尽可能利用内核的能力，减少用户态的代码呢？

虽然现代操作系统实现了很多功能，但很多只是为内核提供服务。能否针对特定的操作系统，设计和实现一种机制，将内核代码作为“可调用库”映射至用户态，使应用程序直接复用其已验证的高效实现，从而减少冗余开发并提升系统性能？

- 设计方案扩展特定操作系统的能力，使得用户态程序可以高效重用内核能力

> - 给出内核代码可被用户态应用复用的条件
> - 针对特定的操作系统，设计一种机制支持内核代码的复用

- 实现扩展机制，支持应用程序高效复用内核能力

> - 验证功能的正确性
> - 评估扩展能力的效率

- 高级功能（可选）

> - 选择内核里的某一子系统，通过扩展机制把能力暴露给用户态程序。例如
>   Linux内核中的eBPF生态的Verifier和JIT编译器。

- 包含说明文档、使用文档和对应的测试用例。

**特征：**

- 内核能力复用
- 内核和运行时扩展
- 性能

**预期目标：**

> - 通过扩展机制暴露到用户态的内核代码的条件
> - 扩展机制的内核实现
> - 扩展机制的运行时实现
> - 示范案例


**License：**

GPL-3.0 License

**参考资料：**

暂无

**备注：**

暂无
